<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>新幹線料金計算</title>
<style>
/* ドロップダウンリストの基本スタイル */
select {
  width: 200px; /* 幅を適切に設定 */
  padding: 10px; /* パディングを増やしてクリックしやすくする */
  margin: 10px; /* マージンを設定 */
  border: 1px solid #ccc; /* 境界線を設定して視認性を上げる */
  cursor: pointer; /* カーソルをポインターにすることでクリック可能であることを示す */
  -webkit-appearance: none; /* iOSのデフォルトスタイルを解除 */
  -moz-appearance: none; /* Firefoxのデフォルトスタイルを解除 */
  appearance: none; /* 標準のドロップダウン矢印を解除 */
}

/* ボタンのスタイルを指定 */
button {
  padding: 10px 20px; /* ボタンのパディングを増やす */
  cursor: pointer; /* カーソルをポインターに */
  border: none;
  background-color: #007bff;
  color: white;
  font-size: 16px; /* 文字サイズを調整 */
  margin: 10px; /* 必要に応じてマージンを設定 */
  border-radius: 5px; /* 角を丸くする */
}

</style>
</head>
<body>
<div>
    東京ｰ名古屋 間の新幹線運賃(通常期)を調べることができます。
    <br>※PCの場合はクリックの反応が悪い場合があるので, [矢印キー + Enterキー] で駅を選択可能です.
</div>
<label for="departure">乗車駅:</label>
<select id="departure" onchange="updateArrivalOptions()">
  <option value="東京">東京</option>
  <option value="名古屋">名古屋</option>
</select>

<br>

<label for="arrival">降車駅:</label>
<select id="arrival">
    <!-- 駅のオプションはJavaScriptで追加されます -->
</select>

<br>

<button onclick="calculateFare()">料金を計算</button>
<div id="fare-result"></div>

<script>
// 駅名と料金のオブジェクト
var fares = {
  '東京': {
    '品川': 1030, '新横浜': 1360, '小田原': 3740, '熱海': 4190, '三島': 4520,
    '新富士': 5590, '静岡': 6350, '掛川': 7860, '浜松': 8290, '豊橋': 8940,
    '三河安城': 10240, '名古屋': 10880
  },
  '名古屋': {
    '東京': 10880, '新横浜': 10240, '品川': 10880, '小田原': 8940, '熱海': 8610, 
    '三島': 8290,'新富士': 7530, '静岡': 6350, '掛川': 5270, '浜松': 4940, 
    '豊橋': 2300,'三河安城': 1330
  }
  // 以下同様にすべての駅と料金をオブジェクトとして記述
};

// 駅の選択肢を更新する関数
function updateArrivalOptions() {
  var departure = document.getElementById('departure').value;
  var arrivalSelect = document.getElementById('arrival');
  arrivalSelect.innerHTML = ''; // 既存のオプションをクリアする
  
  Object.keys(fares[departure]).forEach(function(station) {
    arrivalSelect.add(new Option(station, station));
  });
}

// 料金を計算して結果を表示する関数
function calculateFare() {
  var departure = document.getElementById('departure').value;
  var arrival = document.getElementById('arrival').value;
  var fare = fares[departure][arrival];
  
  document.getElementById('fare-result').textContent = fare !== undefined ?
    '料金: ' + fare + '円' : '選択された区間の料金は見つかりませんでした。';
}

// 初期化関数: 駅のオプションを追加する
function initializeOptions() {
  document.getElementById('departure').value = '東京'; // 初期の乗車駅を設定
  updateArrivalOptions(); // 乗車駅に基づいて降車駅のリストを更新
}

// ページの読み込み時に初期化関数を実行
window.onload = initializeOptions;
</script>

</body>
</html>
